{{define "Login"}}

<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="./static/css/login.css">
    <title>Login</title>
</head>
<body>
 <div class="wrapper">
    <nav class="nav">
        <div class="nav-logo">
            <p>SENAC CONSTRUCTION</p>
        </div>
        <div class="nav-menu" id="navMenu">
            <ul>
                <li><a href="/sobrenos" class="link">Sobre nós</a></li>
            </ul>
        </div>
        
        <div class="nav-menu-btn">
            <i class="bx bx-menu" onclick="myMenuFunction()"></i>
        </div>
    </nav>
<!----------------------------- Form box ----------------------------------->    
    <div class="form-box">
        
        <!------------------- login form -------------------------->
        <div class="login-container" id="login">
            <div class="top">
                <span>Não tem uma conta? <a href="/usuario">Cadastre-se</a></span>
                <header>Login</header>
            </div>
            <form method="POST" action="/login">
            <div class="input-box">
                <input type="text" class="input-field" name="email" placeholder="Email">
                <i class="bx bx-user"></i>
            </div>
            <div class="input-box">
                <input type="password" class="input-field" name="senha" id="senha" placeholder="Senha">
                <i class="bx bx-lock-alt"></i>
                <i class="bi bi-eye-slash-fill" id="btn-senha" onclick="mostrarSenha()"></i>

                {{if.Error}}

                <script>
                  alert("Erro: dados incorretos. Verifique seu email e senha.");
                </script>
               {{end}}

               <script>
                function mostrarSenha() {
                    var inputPass = document.getElementById('senha');
                    var btnShowPass = document.getElementById('btn-senha');
            
                    if (inputPass.type === 'text') { // Verifica se a senha já está visível
                        inputPass.setAttribute('type', 'password');
                        btnShowPass.classList.replace('bi-eye-fill', 'bi-eye-slash-fill'); // Troca para o ícone de olho fechado
                    } else { // Se a senha está oculta
                        inputPass.setAttribute('type', 'text');
                        btnShowPass.classList.replace('bi-eye-slash-fill', 'bi-eye-fill'); // Troca para o ícone de olho aberto
                    }
                }
            </script>
 
            </div>
            <div class="input-box">
                <a href="/" class="submit-link"><button type="submit" value="login" class="submit">Login</button></a>
            </div>
            
        </form>
        </div>
    </div>
</div>   
</body>
</html>
{{end}}